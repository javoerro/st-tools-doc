
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../5.%20Diagn%C3%B3stico%20Avanzado/">
      
      
        <link rel="next" href="../Alta%20de%20claves%20SSH%20en%20GitHub/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.10">
    
    
      
        <title>6. Aprovisionamiento - st-tools-doc > telemetria-formosa</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#herramienta-de-inyeccion-de-credenciales" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="st-tools-doc &gt; telemetria-formosa" class="md-header__button md-logo" aria-label="st-tools-doc > telemetria-formosa" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            st-tools-doc > telemetria-formosa
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              6. Aprovisionamiento
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="dark-purple" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="st-tools-doc &gt; telemetria-formosa" class="md-nav__button md-logo" aria-label="st-tools-doc > telemetria-formosa" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    st-tools-doc > telemetria-formosa
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20Conexi%C3%B3n%20USB%20a%20Gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Conexi贸n USB a Gateway
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../2.%20Grabaci%C3%B3n%20de%20Firmware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Grabaci贸n de Firmware
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../3.%20Marcadores%20de%20Progreso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Marcadores de Progreso
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../4.%20Diagn%C3%B3stico%20Inicial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Diagn贸stico Inicial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../5.%20Diagn%C3%B3stico%20Avanzado/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Diagn贸stico Avanzado
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    6. Aprovisionamiento
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    6. Aprovisionamiento
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#herramienta-de-inyeccion-de-credenciales" class="md-nav__link">
    <span class="md-ellipsis">
      Herramienta de Inyecci贸n de Credenciales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Herramienta de Inyecci贸n de Credenciales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-previos" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos Previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-claves-ssh-en-github" class="md-nav__link">
    <span class="md-ellipsis">
      Configuraci贸n de Claves SSH en GitHub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inyeccion-de-credenciales" class="md-nav__link">
    <span class="md-ellipsis">
      Inyecci贸n de Credenciales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consideraciones-finales" class="md-nav__link">
    <span class="md-ellipsis">
      Consideraciones Finales
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Alta%20de%20claves%20SSH%20en%20GitHub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alta de claves SSH en GitHub
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Habilitar%20servicio%20SSH/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Habilitar servicio SSH
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#herramienta-de-inyeccion-de-credenciales" class="md-nav__link">
    <span class="md-ellipsis">
      Herramienta de Inyecci贸n de Credenciales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Herramienta de Inyecci贸n de Credenciales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-previos" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos Previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-claves-ssh-en-github" class="md-nav__link">
    <span class="md-ellipsis">
      Configuraci贸n de Claves SSH en GitHub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inyeccion-de-credenciales" class="md-nav__link">
    <span class="md-ellipsis">
      Inyecci贸n de Credenciales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consideraciones-finales" class="md-nav__link">
    <span class="md-ellipsis">
      Consideraciones Finales
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>6. Aprovisionamiento</h1>

<h3 id="herramienta-de-inyeccion-de-credenciales">Herramienta de Inyecci贸n de Credenciales<a class="headerlink" href="#herramienta-de-inyeccion-de-credenciales" title="Permanent link">&para;</a></h3>
<p>Esta gu铆a te ayudar谩 a utilizar la Herramienta de Inyecci贸n de Credenciales para dispositivos ESP32. La herramienta permite inyectar credenciales en los dispositivos de manera autom谩tica. Sigue los pasos a continuaci贸n para utilizarla:</p>
<h4 id="requisitos-previos">Requisitos Previos<a class="headerlink" href="#requisitos-previos" title="Permanent link">&para;</a></h4>
<p>Antes de comenzar, aseg煤rate de cumplir con los siguientes requisitos:
- Tener una cuenta en GitHub de la empresa (EXO).
- Tener acceso al <a href="https://github.com/exohw/exohw_conn_str_temp_telemetry">repositorio de credenciales</a>.
- Utilizar un sistema Windows 10 o superior y <a href="../Habilitar%20servicio%20SSH/">habilitar el servicio de OpenSSH</a> para que inicie de forma autom谩tica. ^22b995</p>
<h4 id="configuracion-de-claves-ssh-en-github">Configuraci贸n de Claves SSH en GitHub<a class="headerlink" href="#configuracion-de-claves-ssh-en-github" title="Permanent link">&para;</a></h4>
<p>La herramienta verificar谩 si el sistema que estas usando tiene las claves SSH para acceder a tu cuenta de GitHub. Si no las tiene configuradas, se te guiar谩 en el proceso de la siguiente manera:</p>
<ol>
<li>La herramienta generar谩 un nuevo par de claves, te pedir谩 una <code>passphrase</code> o contrase帽a y que la confirmes. Puedes dejar este campo en blanco presionando <code>enter</code>.</li>
<li>Luego te avisar谩 que te redirigir谩 a tu navegador tras presionar la tecla <code>enter</code> nuevamente. All铆 se abrir谩 la p谩gina de las claves SSH en GitHub.</li>
<li>En la pagina debes pegar la clave, guardarla y autorizarla. La herramienta colocar谩 la clave en el portapapeles para que este lista para pegar en la configuraci贸n. Para mas detalles puedes seguir <a href="../Alta%20de%20claves%20SSH%20en%20GitHub/">esta gu铆a</a>. ^75db08</li>
<li>Luego de dar de alta la clave en GitHub, vuelve a la herramienta y presiona <code>enter</code> para continuar. Se realizar谩 una verificaci贸n y si todo sali贸 bien la herramienta estar谩 en condiciones de obtener credenciales para inyectarlas en los dispositivos. ^89cd6f</li>
</ol>
<h4 id="inyeccion-de-credenciales">Inyecci贸n de Credenciales<a class="headerlink" href="#inyeccion-de-credenciales" title="Permanent link">&para;</a></h4>
<p>Luego de la verificaci贸n/configuraci贸n de las claves SSH, la herramienta entrar谩 en un bucle para inyectar credenciales en varios dispositivos de forma serial. Pero antes te solicitar谩 que ingreses el numero de puerto COM donde se encuentra conectado el adaptador de datos (<a href="../1.%20Conexi%C3%B3n%20USB%20a%20Gateway/#60d1cb">c贸mo obtener ese numero</a>).
Para inyectar las credenciales en el gateway sigue los siguientes pasos:</p>
<ol>
<li>La herramienta buscara una credencial disponible, si la encuentra te imprimir谩 el ID que se le asignar谩 al dispositivo en color amarillo.</li>
<li>Se procede a inyectar las credenciales mediante el puerto COM.</li>
<li>A continuaci贸n se abrir谩 el puerto de datos por un segundo. La idea es capturar la impresi贸n inicial que realiza el dispositivo donde muestra el ID que utilizar谩 (S/N). Dichos datos se mostraran en color amarillo.</li>
<li>Si el S/N que imprime el gateway es el mismo que se asigno en el paso 1, las credenciales se inyectaron correctamente.</li>
<li>La herramienta te consultara si el dispositivo imprimi贸 las credenciales asignadas. Es importante responder de acuerdo a lo acontecido en el paso 6, ya que esto permitir谩 actualizar la base de datos de las credenciales.</li>
<li>Finalmente la herramienta te consultar谩 si deseas repetir el proceso. Responde S si deseas inyectar otra credencial en otro dispositivo o reintentar la inyecci贸n en caso que haya fallado. De lo contrario la herramienta se cerrara. Puedes aprovechar este momento antes de responder para verificar la conexi贸n f铆sica del gateway con el adaptador o cambiar de dispositivo seg煤n lo requieras.</li>
</ol>
<h4 id="consideraciones-finales">Consideraciones Finales<a class="headerlink" href="#consideraciones-finales" title="Permanent link">&para;</a></h4>
<ul>
<li>Aseg煤rate de tener conexi贸n f铆sica con el dispositivo ESP32 y que est茅 listo para recibir las credenciales.</li>
<li>Vigila los mensajes en color amarillo, ya que mostrar谩n las credenciales asignadas y las impresiones del dispositivo.</li>
<li>Si tienes alguna pregunta o encuentras alg煤n problema, no dudes en contactarnos.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>