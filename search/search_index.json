{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#index","title":"Index","text":"<p>1. Conexi\u00f3n USB a Gateway</p> <p>2. Grabaci\u00f3n de Firmware</p> <p>3. Marcadores de Progreso</p> <p>4. Diagn\u00f3stico Inicial</p> <p>5. Diagn\u00f3stico Avanzado</p> <p>6. Aprovisionamiento</p>"},{"location":"#appendix","title":"Appendix","text":"<p>Habilitar servicio SSH</p> <p>Alta de claves SSH en GitHub</p>"},{"location":"1.%20Conexi%C3%B3n%20USB%20a%20Gateway/","title":"1. Conexi\u00f3n USB a Gateway","text":""},{"location":"1.%20Conexi%C3%B3n%20USB%20a%20Gateway/#instrucciones-para-la-conexion-al-gateway","title":"Instrucciones para la Conexi\u00f3n al Gateway","text":"<p>Paso 1: Desconectar la Alimentaci\u00f3n del Gateway  - Antes de comenzar cualquier tarea, aseg\u00farate de que el gateway est\u00e9 completamente desconectado de la alimentaci\u00f3n de l\u00ednea. Esto es esencial para garantizar la seguridad durante el procedimiento.</p> <p>Paso 2: Preparaci\u00f3n del Espacio de Trabajo  - Coloca el dispositivo gateway en un lugar c\u00f3modo para trabajar. Se recomienda hacerlo en un \u00e1rea donde haya suficiente espacio para maniobrar y realizar las conexiones. Si es posible, deja la antena del equipo en su posici\u00f3n original.</p> <p>Paso 3: Apertura de la Envoltura Estanca  - El gateway est\u00e1 protegido por una envoltura estanca que se sella mediante cuatro tornillos. Utiliza una herramienta adecuada para desatornillar los cuatro tornillos con cuidado. Esto permitir\u00e1 acceder al interior del dispositivo.</p> <p>Paso 4: Desconexi\u00f3n del Conector de Bater\u00eda  - Ubica el conector de bater\u00eda en el interior del gateway. Este conector est\u00e1 claramente identificado con la etiqueta \"BAT\". Desconecta este conector para evitar que la bater\u00eda suministre energ\u00eda durante el procedimiento.</p> <p></p> <p>Paso 5: Conexi\u00f3n del Cable Adaptador USB  - En uno de los extremos de la placa del gateway, encontrar\u00e1s el conector de datos. Este conector es polarizado, lo que significa que solo puede conectarse en una direcci\u00f3n. Aseg\u00farate de que el cable adaptador USB est\u00e9 orientado correctamente y con\u00e9ctalo firmemente al conector de datos.</p> <p></p> <p>Paso 6: Conexi\u00f3n del Extremo USB al Laptop  - En el extremo opuesto del cable adaptador USB, encontrar\u00e1s el conector USB est\u00e1ndar. Conecta este extremo del cable a la laptop que utilizar\u00e1s para la recopilaci\u00f3n de datos. Aseg\u00farate de que la conexi\u00f3n USB est\u00e9 firme.</p> <p>Con estos pasos completados, el gateway est\u00e1 listo para continuar con las siguientes fases del procedimiento.</p>"},{"location":"1.%20Conexi%C3%B3n%20USB%20a%20Gateway/#instrucciones-para-establecer-la-conexion-de-datos","title":"Instrucciones para Establecer la Conexi\u00f3n de Datos","text":"<p>Paso 1: Identificar el N\u00famero del Puerto COM   ^60d1cb - Desenchufa el conector USB del adaptador de la laptop si a\u00fan est\u00e1 conectado.  - En tu laptop con Windows 10, abre la configuraci\u00f3n.  - En la barra de b\u00fasqueda de la configuraci\u00f3n, escribe \"Administrador de Dispositivos\" y selecci\u00f3nalo cuando aparezca en los resultados.  - En el Administrador de Dispositivos, busca la secci\u00f3n \"Puertos (COM y LPT)\". Si esta secci\u00f3n ya existe, toma nota de los elementos que contiene, ya que al volver a conectar el adaptador a la laptop, aparecer\u00e1 un nuevo elemento que indicar\u00e1 el puerto COM del bridge serie/USB con el que vamos a trabajar.  - Si la secci\u00f3n \"Puertos (COM y LPT)\" no existe, esta secci\u00f3n se crear\u00e1 autom\u00e1ticamente cuando vuelvas a conectar el adaptador USB.  - Conecta nuevamente el adaptador USB a la laptop.  - Busca y ubica el dispositivo nuevo que aparece en la secci\u00f3n \"Puertos (COM y LPT)\". Deber\u00eda mostrar un nombre como \"Silicon Labs CP210x\" o \"USB-SERIAL CH340\" seguido de un n\u00famero entre par\u00e9ntesis, como \"(COM#)\". Toma nota de ese n\u00famero COM, ya que lo necesitar\u00e1s en el siguiente paso.</p> <p></p> <p>Paso 2: Abrir el Puerto COM - Ahora que has identificado el n\u00famero del puerto COM, es hora de abrirlo para establecer la comunicaci\u00f3n con el gateway.  - Dependiendo de la tarea encargada, puedes abrir el programa Termite para realizar un diagn\u00f3stico inicial o puedes abrir alguna herramienta como la de grabaci\u00f3n de firmware o aprovisionamiento. - En Termite, dir\u00edgete al bot\u00f3n <code>settings</code>. Aseg\u00farate de que los siguientes par\u00e1metros est\u00e9n configurados:     - En <code>port</code> elije el numero que encontrado en el administrador de dispositivos al conectar el adaptador.     - Los otros par\u00e1metros como bits de datos, paridad, bits de parada y control de flujo deben dejarse en su configuraci\u00f3n predeterminada (aunque difieran de la imagen de abajo).      - Al cerrar la ventana de \"settings\" con el bot\u00f3n OK se establecer\u00e1 la conexi\u00f3n autom\u00e1ticamente. Esto lo puedes verificar al observar el texto del bot\u00f3n mas largo de arriba a la izquierda, deber\u00eda indicar el puerto COM que configuraste en lugar de decir \"disconnected\".</p> <p></p> <ul> <li>Si vas a utilizar alguna herramienta, esta te solicitara que ingreses el numero de puerto encontrado</li> </ul> <p></p> <p>Paso 3: Conectar la Alimentaci\u00f3n de L\u00ednea - Con el puerto COM abierto en Termite o la herramienta de firmware, enchufa la alimentaci\u00f3n de l\u00ednea al gateway.  - Despu\u00e9s de unos segundos, deber\u00edas ver como tu programa se comunica con el dispositivo. - Si no conecta o hay un error, se manifestar\u00e1 de forma distinta de acuerdo al procedimiento que est\u00e9s siguiendo: En Termite, la ventana de impresiones permanecer\u00e1 en blanco. Sin embargo, en las herramientas te encontrar\u00e1s con la siguiente situaci\u00f3n:</p> <p></p> <p>En ambos casos es preciso verificar la alimentaci\u00f3n del gateway y la integridad de la conexi\u00f3n entre el conector de datos y el adaptador USB.</p> <p>Con estos pasos completados, has establecido con \u00e9xito la conexi\u00f3n de datos entre el gateway y la laptop. Ahora puedes proceder con la recopilaci\u00f3n de informaci\u00f3n y diagn\u00f3stico necesario, grabaci\u00f3n de firmware o aprovisionamiento.</p>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/","title":"2. Grabaci\u00f3n de Firmware","text":"<p>Esta herramienta te permitir\u00e1 grabar un firmware en un gateway y te facilitar\u00e1 la elecci\u00f3n entre dos versiones, la de \"Testing\" y la \"Product\" (producci\u00f3n). Tambi\u00e9n te permite realizar este proceso de forma c\u00edclica para llevar a cabo la validaci\u00f3n y preparaci\u00f3n en serie de varios dispositivos.</p>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#ejecucion-del-script","title":"Ejecuci\u00f3n del Script","text":"<p>Al iniciar el script, te solicitar\u00e1 ingresar el n\u00famero de puerto a utilizar para la comunicaci\u00f3n con el gateway. Para mas detalles sobre este proceso ver conectando adaptador USB. Luego, te presentar\u00e1 la selecci\u00f3n de la versi\u00f3n a cargar: \"Testing\" (1) o \"Product\" (2). Una vez elegido, el script grabar\u00e1 el firmware en el dispositivo y abrir\u00e1 un monitor de datos para que puedas verificar el funcionamiento. Dentro del monitor de datos puedes: - Reiniciar el programa: <code>ctrl+T</code> y luego <code>ctrl+R</code>. - Detener el programa: <code>ctrl+T</code> y luego <code>ctrl+P</code>. - Salir del monitor: <code>ctrl+T</code> y luego <code>ctrl+X</code>.</p> <p></p>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#diferencias-entre-las-versiones","title":"Diferencias entre las versiones","text":"<p>La versi\u00f3n \"Testing\" del firmware es especialmente verbosa y se utiliza para comprobar el funcionamiento correcto de todas las operaciones del gateway de forma detallada. Al comienzo ejecuta un bucle bloqueante que permite verificar los sensores de temperatura y energ\u00eda. Tambi\u00e9n posee credenciales de prueba que permiten efectuar conexiones aunque el gateway no se haya dado de alta a\u00fan. Se recomienda grabar este firmware en los casos que sea necesario hacer un diagn\u00f3stico y/o una validaci\u00f3n. La versi\u00f3n \"Product\" es la que se debe usarse cuando el dispositivo est\u00e9 en servicio. Posee un numero muy limitado de impresiones relacionadas a la conectividad. Aqu\u00ed el bucle bloqueante se saltea, pasando directamente a la fase de conexi\u00f3n. Por lo tanto no sirve para verificar el funcionamiento de los sensores y el diagn\u00f3stico al cual se puede llegar es limitado.</p>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#validacion-de-los-sensores-testing","title":"Validaci\u00f3n de los sensores (Testing)","text":"<p>La funciones se pueden dividir en dos partes: operaciones con sensores y operaciones de conectividad. Para validar los sensores, el programa entra en un bucle bloqueante que cada 5 segundos imprime la lectura del sensor de energ\u00eda y el de temperatura. Para pasar a la fase de conexi\u00f3n  es necesario validar exitosamente la fase de los sensores. A continuaci\u00f3n se detallan los pasos a seguir.</p>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#validacion-del-sensor-de-temperatura","title":"Validaci\u00f3n del Sensor de Temperatura","text":"<ul> <li>Se realiza comparando el valor de temperatura impreso en cada ciclo de la verificaci\u00f3n con la temperatura ambiente.</li> <li>Si observas una diferencia de m\u00e1s de 5 grados respecto de la esperada, debe revisarse tanto la conexi\u00f3n del sensor como los componentes del circuito y sus valores.</li> </ul>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#validacion-del-sensor-de-energia","title":"Validaci\u00f3n del Sensor de Energ\u00eda","text":"<ul> <li>El programa detecta si la alimentaci\u00f3n proviene de una fuente externa o de la bater\u00eda.</li> <li>Se espera un cambio en la condici\u00f3n de alimentaci\u00f3n para comenzar la validaci\u00f3n. Por lo tanto debes retirar o conectar la alimentaci\u00f3n externa para cambiar el estado inicial del sensor.</li> <li>Para finalizar la validaci\u00f3n, restablece la alimentaci\u00f3n al estado inicial observando en las reiteradas impresiones la confirmaci\u00f3n de la operaci\u00f3n.</li> </ul> <ul> <li>Si la transiciones se realizan de acuerdo a las acciones que efectuaste, se considera que el censado de energ\u00eda funciona correctamente. Luego de la confirmaci\u00f3n de la validaci\u00f3n, se sale del bucle continuando hacia la fase de conexi\u00f3n.</li> <li>Las posibles fallas que se puedes encontrar son:<ul> <li>Falta de respuesta ante la alteraci\u00f3n de la alimentaci\u00f3n externa.</li> <li>Cambios espont\u00e1neos en la lectura del estado de la energ\u00eda sin haber accionado f\u00edsicamente la alimentaci\u00f3n externa. Esto podr\u00eda causar incluso que la validaci\u00f3n termine prematuramente antes de que hayas terminado la acci\u00f3n.</li> </ul> </li> </ul>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#validacion-de-la-conectividad-testing-o-product","title":"Validaci\u00f3n de la conectividad (Testing o Product)","text":"<p>La validaci\u00f3n de la conectividad la puedes realizar tanto desde el firmware de Testing como desde el firmware de Product. Es importante destacar que el firmware de Testing debe usarse sobre gateways que no est\u00e9n aprovisionados, ya que proporciona credenciales de que habilitan la posibilidad de conexi\u00f3n. Adem\u00e1s imprime informaci\u00f3n detallada sobre el proceso de conexi\u00f3n lo cual permite localizar de mejor forma los problemas. Si el dispositivo ya dispone de credenciales de conectividad, puedes verificar la conexi\u00f3n desde el firmware de Product esperando a que se impriman las marcadores de progreso. Aunque no encontrar\u00e1s informaci\u00f3n detallada, examinando estos marcadores, se puede obtener un diagn\u00f3stico inicial limitado. A partir de este diagn\u00f3stico, puedes decidir si es necesario cargar el firmware de Testing para realizar una investigaci\u00f3n m\u00e1s exhaustiva.</p> <p>Tanto el firmware de Testing como el de Product imprimen los marcadores de progreso, solo que la versi\u00f3n de Testing imprime informaci\u00f3n adicional que es \u00fatil para identificar y asilar aver\u00edas sobre la placa. Puedes recurrir al documento de diagn\u00f3stico avanzado para interpretar la verbosidad del firmware de Testing.</p>"},{"location":"2.%20Grabaci%C3%B3n%20de%20Firmware/#como-continuar","title":"C\u00f3mo continuar","text":"<p>Para salir del monitor de datos debes presionar <code>ctrl+T</code> y luego <code>ctrl+X</code>. A continuaci\u00f3n la herramienta te ofrece la opci\u00f3n de repetir la operaci\u00f3n. Lo cual es \u00fatil para continuar con otro dispositivo o cambiar de versi\u00f3n de firmware del equipo actualmente conectado.</p> <p></p> <p>Puedas aprovechar la pausa que da la espera de la respuesta para cambiar de gateway si lo necesitas. * Si respondes con <code>S</code> o <code>s</code>, el script reiniciar\u00e1 el proceso desde la selecci\u00f3n de la versi\u00f3n del firmware (Testing o Product), repetir\u00e1 la grabaci\u00f3n y validaci\u00f3n en otro dispositivo si es necesario. * Si respondes con <code>N</code> o <code>n</code>, el script se cerrar\u00e1 y finalizar\u00e1 la ejecuci\u00f3n.</p> <p>Este comportamiento c\u00edclico te permitir\u00e1 la preparar y validar continua de varios gateways en un proceso en serie, lo que resulta \u00fatil para realizar pruebas en lotes de dispositivos de manera eficiente.</p>"},{"location":"3.%20Marcadores%20de%20Progreso/","title":"3. Marcadores de Progreso","text":"<p>El programa imprime \"marcadores\" a trav\u00e9s la interfaz de datos que indican la ocurrencia de sucesos significativos para la conexi\u00f3n del dispositivo.</p> <p>Hay cuatro pasos que ocurren de forma secuencial en el firmware 1.0.0.15 e indican el progreso del funcionamiento t\u00edpico del programa:</p> <p>Paso 1 : <code>INTERNET ACCESS</code> - Indica que el dispositivo obtuvo acceso a Internet a trav\u00e9s de la conexi\u00f3n 4G. Paso 2 : <code>SNTP TIME SYNC</code> - Se\u00f1ala la sincronizaci\u00f3n exitosa de fecha y hora desde Internet, confirmando la capacidad de navegaci\u00f3n en Internet. Paso 3 : <code>STATUS CALLBACK</code> - Muestra que el dispositivo se ha conectado al servicio de nube. Paso 4 : <code>CONFIRMATION CALLBACK</code> - Indica que el dispositivo ha podido enviar un informe y recibir una confirmaci\u00f3n del servidor, lo que implica que la acci\u00f3n productiva se ha completado con \u00e9xito.</p> <pre><code>NOTA: si el dispositivo saltea alguna de los marcadores, pasando directamente a un paso posterior puede significar que no cuenta con la ultima version de firmware.\n</code></pre> <p>Existen otros eventos que no forman parte del funcionamiento secuencial y que tambi\u00e9n imprimen marcadores: Evento 1 : <code>RECEIVE CALLBACK</code> - Esta etiqueta aparece cuando se recibe un mensaje desde el servicio de nube, como un nuevo conjunto de datos de configuraci\u00f3n. Evento 2 : <code>OTA UPDATE</code> -  Esta etiqueta indica que el dispositivo est\u00e1 iniciando una actualizaci\u00f3n de firmware a trav\u00e9s de la conexi\u00f3n de internet. Para que ocurra se debe enviar la actualizaci\u00f3n a trav\u00e9s de un mensaje con la informaci\u00f3n adecuada.</p> <p>Otras Impresiones destacables: Al inicio del programa, se mostrar\u00e1n dos impresiones iniciales que son muy relevantes: <code>fw_ver</code> : Se\u00f1ala la versi\u00f3n del firmware en formato <code>#.#.#.#</code> (por ejemplo, <code>1.0.0.6</code>). Saber la versi\u00f3n es importante para determinar si el dispositivo necesita actualizarse. <code>S/N</code> : Es por Serial Number e imprime a continuaci\u00f3n el ID del dispositivo en formato <code>1681AA21###</code>. Si no se imprime nada junto a esta etiqueta, significa que el dispositivo no tiene asignado un ID.</p> <p>Esta informaci\u00f3n puede servirte para dar un diagnostico inicial de un gateway que haya entrado para reparaci\u00f3n o tambi\u00e9n para nuevos dispositivos con el firmware de testing, ya que sin importar la versi\u00f3n de firmware que tenga, estas impresiones se encuentran siempre habilitadas.</p>"},{"location":"4.%20Diagn%C3%B3stico%20Inicial/","title":"4. Diagn\u00f3stico Inicial","text":""},{"location":"4.%20Diagn%C3%B3stico%20Inicial/#pasos-iniciales","title":"Pasos iniciales","text":"<p>Recomendamos que pruebes el gateway en un estado lo m\u00e1s fiel posible al ambiente habitual de uso. Es decir, con la misma antena, sensor, tarjeta SIM y modulo 4G. Si te encuentras en el lugar de instalaci\u00f3n desplaza el dispositivo de su ubicaci\u00f3n original solo lo necesario. Si el dispositivo se encuentra en servicio t\u00e9cnico debe ser probado tal cual fue recibido.</p>"},{"location":"4.%20Diagn%C3%B3stico%20Inicial/#objetivos","title":"Objetivos","text":"<p>La idea de este primer diagn\u00f3stico es discernir si el problema se encuentra \"aguas arriba\", es decir, en el servicio de nube, o en el propio dispositivo. Como objetivo secundario puedes verificar la versi\u00f3n de firmware para determinar si es necesario actualizar a la \u00faltima. Tambi\u00e9n puedes comprobar si el gateway posee las credenciales para la comunicaci\u00f3n, de lo contrario no podr\u00e1 conectar.</p>"},{"location":"4.%20Diagn%C3%B3stico%20Inicial/#diagnostico","title":"Diagn\u00f3stico","text":"<p>Abre el puerto del adaptador USB con Termite, como indica este instructivo, y conectando la alimentaci\u00f3n deber\u00edas ver la versi\u00f3n de firmware y el numero de serie si el dispositivo posee credenciales.</p> <p></p> <ul> <li>Si la versi\u00f3n de firmware no es la ultima publicada requerir\u00e1 actualizaci\u00f3n.</li> <li>Si no imprime numero de serie, el dispositivo va a necesitar un aprovisionamiento.</li> </ul> <p>Luego, para seguir el procedimiento de conexi\u00f3n, puedes utilizar esta referencia. 1) Si no llega a imprimir \"INTERNET ACCESS\" puede haber un problema con el m\u00f3dulo 4G, tarjeta SIM, antena y/o plan de datos. 2)  Si no aparece \"SNTP TIME SYNC\", es que no conecta al servidor de hora, puede deberse a un inconveniente con el plan de datos. Escala la solicitud. 3) Si se bloquea antes de llegar a \"STATUS CALLBACK\", puede indicar un problema de credenciales o \"Aguas arriba\". Verifica las credenciales y si no es eso, escala la solicitud. 4) Si llega en menos de 5 minutos y sin reinicios al ultimo estado de \"CONFIRMATION CALLBACK\", entonces el dispositivo conecta con el servicio de nube sin problema. Verifica si efectivamente el reporte se puede ver en el dashboard. Si no aparece entonces el desperfecto se encuentra \"Aguas arriba\" y debes escalar la solicitud.</p>"},{"location":"4.%20Diagn%C3%B3stico%20Inicial/#acciones","title":"Acciones","text":"<p>Para el caso 1) se debe grabar el firmware de Testing y seguir las indicaciones de diagn\u00f3stico avanzado para ubicar la falla. Para los casos 2), 3) y 4), si el gateway no posee la ultima versi\u00f3n de firmware, es necesario que se la apliques usando la herramienta y optando por la versi\u00f3n de Product. Si luego de actualizar continua con problemas debes proceder con el escalamiento de la solicitud.</p>"},{"location":"5.%20Diagn%C3%B3stico%20Avanzado/","title":"5. Diagn\u00f3stico Avanzado","text":""},{"location":"5.%20Diagn%C3%B3stico%20Avanzado/#impresiones-en-modo-testing","title":"Impresiones en modo Testing","text":"<p>Las impresiones de registro son mensajes que un programa o aplicaci\u00f3n emite durante su ejecuci\u00f3n para proporcionar informaci\u00f3n sobre lo que est\u00e1 ocurriendo en su interior. En este documento se desarrollar\u00e1n los registros del programa de gateway que son \u00fatiles para diagnosticar problemas. Esta aplicaci\u00f3n se divide en m\u00f3dulos. Los registros que se van imprimiendo incluyen una etiqueta que declara de qu\u00e9 modulo proviene el mensaje, por ejemplo, si se trata de la comunicaci\u00f3n 4G o si es la conexi\u00f3n al servicio de nube. Adem\u00e1s, cada l\u00ednea de registro incluye una marca de tiempo y un indicador de nivel de prioridad. </p> <pre><code>[Nivel] (Marca de tiempo) Etiqueta: Mensaje\n</code></pre> <ul> <li> <p>Nivel: Indica la importancia del mensaje y la cantidad de mensajes.     0) Sin impresiones     1) <code>E</code> (ERROR)     2) <code>W</code> (WARNING)     3) <code>I</code> (INFO)     4) <code>D</code> (DEBUG)     5) <code>V</code> (VERBOSE)     Mientras m\u00e1s alto sea el nivel, m\u00e1s cantidad de impresiones se van a visualizar.</p> </li> <li> <p>Marca de tiempo: Muestra cu\u00e1ndo se gener\u00f3 el mensaje, lo que puede ser \u00fatil para rastrear eventos en el tiempo. Si el dispositivo se sincroniz\u00f3, indicara el tiempo UTC, de lo contrario indicar\u00e1 el tiempo desde que el dispositivo inici\u00f3.</p> </li> <li> <p>Fuente (etiqueta): Es una etiqueta que identifica de d\u00f3nde proviene el mensaje. Esto es \u00fatil para saber qu\u00e9 parte de la aplicaci\u00f3n gener\u00f3 el mensaje.</p> </li> <li> <p>Mensaje: Es el contenido del mensaje en s\u00ed. Puede proporcionar detalles sobre lo que est\u00e1 ocurriendo, errores detectados o cualquier otra informaci\u00f3n relevante.</p> </li> </ul> <p>El firmware de testing permite establecer el nivel (0 a 5) para cada etiqueta. En principio todos los m\u00f3dulos imprimir\u00e1n en nivel 3 <code>INFO</code>, pero puedes cambiar a nivel 0 las etiquetas que desees para dejar de ver las impresiones. para ello: - Ingresando <code>//[etiqueta],0</code> donde <code>[etiqueta]</code> es el nombre de la etiqueta que deseas deshabilitar. - Con <code>//*,0</code> deshabilitaras todas las etiquetas. - Para volver a habilitar una etiqueta ingresa <code>//[etiqueta],3</code></p>"},{"location":"5.%20Diagn%C3%B3stico%20Avanzado/#identificando-sintomas","title":"Identificando s\u00edntomas","text":"<p>El m\u00f3dulo 4G utilizado es el EC21. Entre los registros que arroja el firmware de testing encontraras algunos con las etiquetas EC21_AT los cuales indican los comandos y respuestas que producen entre el procesador del gateway y el m\u00f3dulo 4G.</p>"},{"location":"5.%20Diagn%C3%B3stico%20Avanzado/#sin-respuesta-del-modem","title":"Sin respuesta del m\u00f3dem","text":"<p>Cuando el procesador no logra comunicarse con el m\u00f3dulo 4G EC21 (m\u00f3dem) observar\u00e1s las siguientes impresiones.</p> <p></p> <p>Se repite el comando AT+CGATT ya que no se recibe respuesta. Esto sucede por un minuto aproximadamente, hasta que el circuito intenta reiniciar el m\u00f3dem y luego espera. </p> <p></p> <p>Los mensajes <code>timeout to verify RDY</code> y <code>EC21 not reported</code> confirman que se han agotado todas las instancias de comunicaci\u00f3n con el modulo EC21. Acci\u00f3n: Revisar la conexi\u00f3n del procesador con el m\u00f3dulo 4G (EC21)</p>"},{"location":"5.%20Diagn%C3%B3stico%20Avanzado/#error-con-tarjeta-sim","title":"Error con tarjeta SIM","text":"<p>Cuando se recibe una respuesta de <code>ERROR</code> al comando AT+CGATT entonces es probable que se deba a un inconveniente con la tarjeta SIM que impide que el m\u00f3dem la pueda leer correctamente. No implica que la l\u00ednea tenga problemas de habilitaci\u00f3n, o de saldo disponible, ya que AT+CGATT solo revisa la conexi\u00f3n f\u00edsica con la tarjeta SIM y que se pueda leer correctamente.</p> <p></p> <p>Acci\u00f3n: Revisar la conexi\u00f3n de la tarjeta SIM con el m\u00f3dulo 4G. Tambi\u00e9n los contactos y el sujetador de la tarjeta SIM</p>"},{"location":"5.%20Diagn%C3%B3stico%20Avanzado/#problema-con-la-antena-o-senal","title":"Problema con la antena o se\u00f1al","text":"<p>Cuando las l\u00edneas de comunicaci\u00f3n entre el m\u00f3dem, el procesador y tarjeta SIM son correctas, podr\u00e1s ver que el m\u00f3dulo EC21 responde con <code>RDY</code> para indicar que esta listo para trabajar.</p> <p></p> <p>Esto puedes verificarlo con la impresi\u00f3n <code>&gt;EC21 ready for work!</code> Si hubiera problemas con la antena o de se\u00f1al, es posible que no pueda establecer la conexi\u00f3n con la red 4G para obtener internet. En este caso veras un bucle que repetir\u00e1 los siguientes mensajes:</p> <p> Acci\u00f3n: Probar con otra antena, con otro conector U.FL / IPX a SMA. Verificar la recepci\u00f3n de se\u00f1al en el \u00e1rea.</p> <p>NOTA: Para mas detalles de c\u00f3mo revisar el hardware de la placa del gateway puedes utilizar esta referencia.</p>"},{"location":"6.%20Aprovisionamiento/","title":"6. Aprovisionamiento","text":""},{"location":"6.%20Aprovisionamiento/#herramienta-de-inyeccion-de-credenciales","title":"Herramienta de Inyecci\u00f3n de Credenciales","text":"<p>Esta gu\u00eda te ayudar\u00e1 a utilizar la Herramienta de Inyecci\u00f3n de Credenciales para dispositivos ESP32. La herramienta permite inyectar credenciales en los dispositivos de manera autom\u00e1tica. Sigue los pasos a continuaci\u00f3n para utilizarla:</p>"},{"location":"6.%20Aprovisionamiento/#requisitos-previos","title":"Requisitos Previos","text":"<p>Antes de comenzar, aseg\u00farate de cumplir con los siguientes requisitos: - Tener una cuenta en GitHub de la empresa (EXO). - Tener acceso al repositorio de credenciales. - Utilizar un sistema Windows 10 o superior y habilitar el servicio de OpenSSH para que inicie de forma autom\u00e1tica. ^22b995</p>"},{"location":"6.%20Aprovisionamiento/#configuracion-de-claves-ssh-en-github","title":"Configuraci\u00f3n de Claves SSH en GitHub","text":"<p>La herramienta verificar\u00e1 si el sistema que estas usando tiene las claves SSH para acceder a tu cuenta de GitHub. Si no las tiene configuradas, se te guiar\u00e1 en el proceso de la siguiente manera:</p> <ol> <li>La herramienta generar\u00e1 un nuevo par de claves, te pedir\u00e1 una <code>passphrase</code> o contrase\u00f1a y que la confirmes. Puedes dejar este campo en blanco presionando <code>enter</code>.</li> <li>Luego te avisar\u00e1 que te redirigir\u00e1 a tu navegador tras presionar la tecla <code>enter</code> nuevamente. All\u00ed se abrir\u00e1 la p\u00e1gina de las claves SSH en GitHub.</li> <li>En la pagina debes pegar la clave, guardarla y autorizarla. La herramienta colocar\u00e1 la clave en el portapapeles para que este lista para pegar en la configuraci\u00f3n. Para mas detalles puedes seguir esta gu\u00eda. ^75db08</li> <li>Luego de dar de alta la clave en GitHub, vuelve a la herramienta y presiona <code>enter</code> para continuar. Se realizar\u00e1 una verificaci\u00f3n y si todo sali\u00f3 bien la herramienta estar\u00e1 en condiciones de obtener credenciales para inyectarlas en los dispositivos. ^89cd6f</li> </ol>"},{"location":"6.%20Aprovisionamiento/#inyeccion-de-credenciales","title":"Inyecci\u00f3n de Credenciales","text":"<p>Luego de la verificaci\u00f3n/configuraci\u00f3n de las claves SSH, la herramienta entrar\u00e1 en un bucle para inyectar credenciales en varios dispositivos de forma serial. Pero antes te solicitar\u00e1 que ingreses el numero de puerto COM donde se encuentra conectado el adaptador de datos (c\u00f3mo obtener ese numero). Para inyectar las credenciales en el gateway sigue los siguientes pasos:</p> <ol> <li>La herramienta buscara una credencial disponible, si la encuentra te imprimir\u00e1 el ID que se le asignar\u00e1 al dispositivo en color amarillo.</li> <li>Se procede a inyectar las credenciales mediante el puerto COM.</li> <li>A continuaci\u00f3n se abrir\u00e1 el puerto de datos por un segundo. La idea es capturar la impresi\u00f3n inicial que realiza el dispositivo donde muestra el ID que utilizar\u00e1 (S/N). Dichos datos se mostraran en color amarillo.</li> <li>Si el S/N que imprime el gateway es el mismo que se asigno en el paso 1, las credenciales se inyectaron correctamente.</li> <li>La herramienta te consultara si el dispositivo imprimi\u00f3 las credenciales asignadas. Es importante responder de acuerdo a lo acontecido en el paso 6, ya que esto permitir\u00e1 actualizar la base de datos de las credenciales.</li> <li>Finalmente la herramienta te consultar\u00e1 si deseas repetir el proceso. Responde S si deseas inyectar otra credencial en otro dispositivo o reintentar la inyecci\u00f3n en caso que haya fallado. De lo contrario la herramienta se cerrara. Puedes aprovechar este momento antes de responder para verificar la conexi\u00f3n f\u00edsica del gateway con el adaptador o cambiar de dispositivo seg\u00fan lo requieras.</li> </ol>"},{"location":"6.%20Aprovisionamiento/#consideraciones-finales","title":"Consideraciones Finales","text":"<ul> <li>Aseg\u00farate de tener conexi\u00f3n f\u00edsica con el dispositivo ESP32 y que est\u00e9 listo para recibir las credenciales.</li> <li>Vigila los mensajes en color amarillo, ya que mostrar\u00e1n las credenciales asignadas y las impresiones del dispositivo.</li> <li>Si tienes alguna pregunta o encuentras alg\u00fan problema, no dudes en contactarnos.</li> </ul>"},{"location":"Alta%20de%20claves%20SSH%20en%20GitHub/","title":"Alta de claves SSH en GitHub","text":"<p>Este documento te guiar\u00e1 a trav\u00e9s de los pasos para agregar una clave SSH y autorizarla para usar con una organizaci\u00f3n en GitHub. Asumimos que ya tienes una clave SSH p\u00fablica en tu portapapeles ya que la herramienta de aprovisionamiento te ha llevado hasta este punto.</p>"},{"location":"Alta%20de%20claves%20SSH%20en%20GitHub/#paso-1-iniciar-sesion-en-tu-cuenta-de-github","title":"Paso 1: Iniciar Sesi\u00f3n en tu Cuenta de GitHub","text":"<p>Si a\u00fan no tienes la sesi\u00f3n iniciada en GitHub, la pagina a la cual se te dirigi\u00f3 te solicitar\u00e1 que lo hagas. La cuenta debe pertenecer a la organizaci\u00f3n de EXO. Si necesitas ayuda con esto debes solicitarlo al \u00e1rea de sistemas.</p>"},{"location":"Alta%20de%20claves%20SSH%20en%20GitHub/#paso-2-agregar-la-clave-ssh-a-tu-cuenta-de-github","title":"Paso 2: Agregar la Clave SSH a tu Cuenta de GitHub","text":"<p>En esta instancia te encontrar\u00e1s en la secci\u00f3n para agregar llaves SSH <code>SSH and GPG keys</code>. Haz clic en el bot\u00f3n <code>New SSH key</code> y sigue los siguientes pasos para agregar la llave:</p> <p></p> <ol> <li> <p>En el campo <code>Title</code>, puedes darle un nombre descriptivo a tu clave SSH (por ejemplo, \"Mi Clave SSH para aprovisionamiento de credenciales\").</p> </li> <li> <p>En el campo <code>Key</code>, pega la clave SSH p\u00fablica que tienes en tu portapapeles.</p> </li> <li> <p>Haz clic en el bot\u00f3n <code>Add SSH key</code> para guardar la clave.</p> </li> </ol> <p></p>"},{"location":"Alta%20de%20claves%20SSH%20en%20GitHub/#paso-3-autorizar-la-clave-ssh-para-una-organizacion","title":"Paso 3: Autorizar la Clave SSH para una Organizaci\u00f3n","text":"<ol> <li> <p>Luego de agregar la llave, regresaras a la pagina anterior. All\u00ed haz click en el men\u00fa desplegable <code>Configure SSO</code>.</p> </li> <li> <p>Haz clic en la organizaci\u00f3n para la cual deseas autorizar la clave SSH en el bot\u00f3n <code>Authorize</code>.</p> </li> </ol> <p></p> <p>\u00a1Listo! Ahora has agregado tu clave SSH y la has autorizado para usar con una organizaci\u00f3n en GitHub. Puedes utilizar esta clave SSH para acceder al repositorio de credenciales de manera segura. Ahora regresa a la herramienta de aprovisionamiento y presiona <code>enter</code> para indicar que esta acci\u00f3n ya ha sido realizada. Continua con la gu\u00eda desde aqu\u00ed.</p>"},{"location":"Habilitar%20servicio%20SSH/","title":"Habilitar servicio SSH","text":"<p>Nota: Aseg\u00farate de que est\u00e1s utilizando una versi\u00f3n de Windows 10 o superior para que admita la caracter\u00edstica OpenSSH</p>"},{"location":"Habilitar%20servicio%20SSH/#configurar-el-servicio-openssh-authentication-agent-para-que-inicie-automaticamente","title":"Configurar el servicio OpenSSH Authentication Agent para que inicie autom\u00e1ticamente:","text":"<ol> <li> <p>Dir\u00edgete a Inicio y escribe <code>servicios</code> y abre la aplicaci\u00f3n que aparece con el mismo nombre.</p> </li> <li> <p>En la lista de servicios busca OpenSSH Authentication Agent y dale a <code>click derecho &gt; propiedads</code>. Si no encuentras el servicio sigue los pasos de la siguiente secci\u00f3n #Habilitar el servicio OpenSSH Authentication Agent</p> </li> </ol> <p></p> <ol> <li>En la ventana que emerge, elige en <code>Tipo de inicio: Automatico</code> tal cual como se muestra en la imagen.</li> </ol> <p></p> <ol> <li>Si el bot\u00f3n <code>Iniciar</code> es clickeable, act\u00edvalo para correr el servicio de forma inmediata sin tener que esperar a que inicie el sistema nuevamente.</li> </ol> <p>Ahora, el servicio OpenSSH Authentication Agent se iniciar\u00e1 autom\u00e1ticamente cada vez que inicies Windows. Puedes usarlo para administrar tus claves SSH y autenticarte en servidores remotos de forma m\u00e1s segura.</p>"},{"location":"Habilitar%20servicio%20SSH/#habilitar-el-servicio-openssh-authentication-agent","title":"Habilitar el servicio OpenSSH Authentication Agent:","text":"<ol> <li> <p>Abre la aplicaci\u00f3n \"Configuraci\u00f3n\" en Windows 10. Puedes hacerlo presionando la tecla <code>Win + I</code> o busc\u00e1ndola en el men\u00fa Inicio.</p> </li> <li> <p>En la ventana de Configuraci\u00f3n, selecciona \"Aplicaciones\".</p> </li> <li> <p>En la columna de la izquierda, haz clic en \"Aplicaciones y caracter\u00edsticas\".</p> </li> <li> <p>Busca e ingresa a la opci\u00f3n \"Caracter\u00edsticas opcionales\" y selecciona \"Agregar una caracter\u00edstica\".</p> </li> <li> <p>Se abrir\u00e1 una ventana emergente de \"Caracter\u00edsticas opcionales\" con una lista de caracter\u00edsticas disponibles. Despl\u00e1zate hacia abajo hasta encontrar \"Cliente OpenSSH\" y selecci\u00f3nalo. Luego, haz clic en el bot\u00f3n \"Instalar\".</p> </li> <li> <p>Espera a que Windows instale el cliente OpenSSH. Una vez que se complete la instalaci\u00f3n, ver\u00e1s un mensaje de confirmaci\u00f3n.</p> </li> </ol> <p>Ahora puedes crear claves SSH con la ayuda de la herramienta continuando desde aqu\u00ed</p>"}]}